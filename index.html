<html>
	<head>
		<title>Socket io client</title>
		<script src="http://localhost:5000/socket.io/socket.io.js"></script>
	</head>
	<body>
		Test
		<button onclick="joinGame(1)">Emit</button>
		<button onclick="logout()">Logout</button>
		<button onclick="enterMap('Torneg')">Enter Torneg</button>
		<button onclick="enterMap('Ithan')">Enter Ithan</button>

		<script>
			// (async () => {
				const socket = io("http://localhost:5000");

				socket.on("welcome", (message) => {
					console.log(message)
				});

				function joinGame(characterId) {
					socket.emit('in-game', characterId);
				}

				const logout = () => socket.emit('logout');

				const enterMap = (mapName) => socket.emit('changeMap', mapName);

				document.body.addEventListener('keyup', (event) => {
					const movementKeys = {
						87: 'w',
						65: 'a',
						83: 's',
						68: 'd'
					}
					socket.emit('playerMove', movementKeys[event.keyCode]);
				});

			// })();
		</script>
	</body>
</html>